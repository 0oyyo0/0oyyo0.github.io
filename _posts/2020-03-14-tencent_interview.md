---
layout:     post
title:      腾讯一面面经
subtitle:   3月14号腾讯一面面经
date:       2020-03-14
author:     王鹏程
header-img: img/post-bg-ios10.jpg
catalog: true
tags:
    - 面试
    - 网络编程
---

# 3月14号腾讯一面面经

> 2020-03-14 10:47:53

## 概要信息记录表

|项目|定义|
|:---:|:---:|
|通知时间|2020-03-13 22:00|
|通知方式|邮件通知|
|面试日期|2020-03-14|
|面试时间|09:57-10:40|
|结果|通过,等待复试|


# 面试问题记录

## 0. 本科是不是计算机
答:不是研究生考研考的计算机;高中的时候不知道自己要学什么。到大二才发现自己对计算机很感兴趣，所以自学计算机知识并考研
-: 那那些知识点都清楚吗？
-: 清楚吧，毕竟考过研

## 1. 说一下TCP/IP的四层网络模型

答:应用层，有http和DNS等;传输层:TCP/UDP;网络层:IP/ICMP;数据链路层等

**标准答案**

_参考链接:_
- [[网络必学]TCP/IP四层模型讲解【笔记整理通俗易懂版】](https://www.cnblogs.com/hackhyl/p/10015415.html)
- [TCP/IP四层模型](https://blog.csdn.net/csdn_kou/article/details/82910753)

![主要应用](https://img-blog.csdn.net/20180930155137505?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NzZG5fa291/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

## 1. 长连接和短连接;他们各自拥有什么优点和缺点
答:按照自己的意想；说了一通

**标准答案**

_参考链接:_ 
- [长连接与短连接的区别以及使用场景](https://blog.csdn.net/n1314n/article/details/90743858);
- [TCP/IP，http，socket，长连接，短连接](https://blog.csdn.net/hddygs001/article/details/8707279?depth_1-utm_source=distribute.pc_relevant.none-task&utm_source=distribute.pc_relevant.none-task)

### 1.1 短连接:
1. 连接->传输数据->关闭连接
2. 比如HTTP是无状态的的短链接，浏览器和服务器每进行一次HTTP操作，就建立一次连接，但任务结束就中断连接。
3. 因为连接后接收了数据就断开了，所以每次数据接受处理不会有联系。 这也是HTTP协议无状态的原因之一。
### 1.2 长连接:
- 连接->传输数据->保持连接 -> 传输数据-> ...........->直到一方关闭连接，多是客户端关闭连接。
- 长连接指建立SOCKET连接后不管是否使用都保持连接，但安全性较差。
## 1.3 什么时候用长连接，短连接？
长连接多用于操作频繁，点对点的通讯，而且连接数不能太多情况，。每个TCP连接都需要三步握手，
这需要时间，如果每个操作都是先连接，再操作的话那么处理速度会降低很多，所以每个操作完后都
不断开，次处理时直接发送数据包就OK了，不用建立TCP连接。例如：数据库的连接用长连接， 如果
用短连接频繁的通信会造成socket错误，而且频繁的socket 创建也是对资源的浪费。

而像WEB网站的http服务一般都用短链接，因为长连接对于服务端来说会耗费一定的资源，而像WEB网
站这么频繁的成千上万甚至上亿客户端的连接用短连接会更省一些资源，如果用长连接，而且同时有成
千上万的用户，如果每个用户都占用一个连接的话，那可想而知吧。所以并发量大，但每个用户无需频
繁操作情况下需用短连好。

## 1.4 发送接收方式
### 1、异步
报文发送和接收是分开的，相互独立的，互不影响。这种方式又分两种情况：
(1)异步双工：接收和发送在同一个程序中，由两个不同的子进程分别负责发送和接收
(2)异步单工：接收和发送是用两个不同的程序来完成。
### 2、同步
报文发送和接收是同步进行，既报文发送后等待接收返回报文。 同步方式一般需要考虑超时问题，即报文发出去后不能无限等待，需要设定超时时间，超过该时间发送方不再等待读返回报文，直接通知超时返回。
在长连接中一般是没有条件能够判断读写什么时候结束，所以必须要加长度报文头。读函数先是读取报文头的长度，再根据这个长度去读相应长度的报文。

## 2. 说一下https的大致过程

https主要工作流程如下:


![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9SNWljMWljeU5CTmQ3eFdDcGJLNm92OHJsc3NMRFJQSkpLQUp6WEJxODBNZFFIREtvRFM4RUhtMlduS0I0aWJzcENBZzQzTmRwazRWMmliSWpZaWMyS3RRTGZRLzY0MA?x-oss-process=image/format,png)


1. 客户端将自己支持的一套加密规则发送给服务端
2. 服务端从中选出一组加密算法和hash算法，并将自己的身份信息以证书的形式发回给客户端。证书里面包含了服务端的地址，加密公钥，以及证书的颁发机构
3. 客户端获得网站的证书后，先验证证书的合法性，如果证书时受信任的，或者用户自己接收了不受信任的证书，客户端会生成一串随机数的密码，并用证书中提供的公钥加密
4. 客户端使用约定好的hash算法计算握手信息，并使用生成的随机数对握手信息进行加密，最后将之前生成的所有信息发送给服务端
5. 服务端接收到数据后，先用自己家的私钥将信息解密，把随机数密码取出来，用这个随机数密码去解密握手信息，将握手信息进行hash，验证其是否与发过来的hash值一样
6. 然后使用密码加密一段握手信息，发送回客户端
7. 客户端解密计算握手信息的hash，如果与服务端发过来的hash是一样的，握手过程结束，连接建立，之后的所有通信数据都由之前的随机数密码并使用对称加密算法进行加密，然后传输


## 3. https主要攻击的阶段是那个？
答:不知道，估计是模拟客户端发送请求；(其实是中间人攻击)

**答案**

_参考链接:_ 

- [常见的HTTPS攻击方法](https://blog.csdn.net/weixin_34177064/article/details/92037911)
- [HTTPS那-攻击实例与防御](https://www.cnblogs.com/1175429393wljblog/p/9283585.html)(必看)
- [HTTPS的DDoS攻击防护](https://www.cnblogs.com/bonelee/p/9626553.html)
- [校招后端面经——网络安全](https://blog.csdn.net/zzmian/article/details/93491824)

### SSL劫持攻击

SSL劫持也就是SSL证书欺骗攻击，攻击者为了获得HTTPS传输的明文数据，需要先将自己接入到浏览器与目标网站之间（中间人），在传输数据的过程中，替换目标网站发给浏览器的证书，之后解密传输中的数据，简单的图示如下：

[浏览器] <======> [目标网站] （正常情况）

[浏览器] <======> 中间人 <======> [目标网站] （中间人攻击）

中间人攻击最好的环境是在局域网中，局域网中所有的计算机需要通过一个固定的出口（网关）来接入互联网，因此攻击者只需要在局域网中实施一次中间人攻击就可以顺利的截获所有计算机与网关之间传输的数据。
### SSLStrip攻击

SSLStrip攻击也需要将攻击者设置为中间人，之后将HTTPS访问替换为HTTP返回给浏览器，由于HTTP协议传输的数据是未加密的，从而截获用户访问的数据。举个例子，当我们访问hotmail.com的时候会重定向到一个https://login.live.com的一个HTTPS的地址上，SSLStrip会代替用户与服务器通信，并将这个地址改为http://login.live.com（注意这个地址在http后面没有s）返回给浏览器，此时如果用户继续登录的话，攻击者就会截取到用户的密码。这种攻击非常对普通用户非常具有迷惑性，但是防御却非常的简单：

### 第三类攻击

## CA证书的具体内容看过吗？
答:没有不知道

**答案**

_参考链接:_ 

- [数字证书及CA详解](https://blog.csdn.net/lk2684753/article/details/100160856)
- [细说 CA 和证书](https://blog.csdn.net/yetugeng/article/details/89066626)




## 说一下http常见的系列状态码
答:1xx,2xx,3xx,4xx,5xx ...

**答案**

_参考链接:_



## Linux中进程间通信的方式有哪些?


## 3. Get和POST的区别
答:Get不允许携带body主要字段；POST可以

## 4. 为什么说post比Get更加安全

## 5. 数据库用过吗？
答:上过老师的课，没怎么用过

## 6. 数据库的索引结构
答:B+树，并且叶子节点相互链接；方便进行范围查找

## 7. 什么情况下需要建立索引
答:经常查找和检索的时候

## 8. 一个订单表，订单，时间，状态是否适合建立索引
答:索引建立使用B+树，索引关键字应当尽量避免重复。时间是可以的。但是状态属于枚举类型。不适合作为索引

## 9. 联合索引
答:(听成聚簇索引去了);答了聚簇索引的东西。联合索引key是两个值的联合值，遵循最左原则，左边相同是关键字相同。不同时，再分关键字。

## 10 SQL注入
答:不知道

## 11 算法题:
11.1 两数之和

11.2 能否将时间复杂度更改为O(n)