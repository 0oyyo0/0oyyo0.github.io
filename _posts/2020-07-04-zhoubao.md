## 1.本周主要工作内容
本周一直在进行SOP播放器由xspace到cdesk的迁移准备；主要是熟悉x-space和sop-engine相关代码；以及x-space中sop动作组件代码梳理；具体内容如下:
1.1 明确了sopb整个播放过程中的调用过程和对应的调用接口。整个调用的大体流程如下:
1. 请求`/sopPlay/match`发送caseId和User信息；返回该用户是否拥有该case的修改权限
2. 根据修改权限返回值，决定是否出现SOP选择按钮
3. 点击选择按钮，请求`/sopPlay/play`开始播放当前任务，主要返回的数据是`SopRenderVO`
4. 对人工节点进行选择，请求`/sopPlay/drive`开始进行驱动并展示下一步的节点;
5. 当执行动作节点，请求`/action/xxx`系列执行对应的请求；并返回对应执行结果.
6. 展现人工节点，填写结果信息；查找SOP标准流程表
7. 生成下一步的动作
8. 重复3-7步骤直到达到标准流程的终点，生成最终的解决方案

1.2 整理了sop-engine中对于播放的相关代码。梳理了sop-engine对于播放功能驱动与记录播放节点的关键流程图。完成了关键流程时序图的绘制。
1.3 参与了U+覆盖率二期的项目预评审会议；进一步了解了相关需求和工作内容以及项目背景。为下一步投入项目做准备
1.4 SOP播放过程中的关键动作梳理；sop播放中涉及到留言、外呼、发短信、采纳SOP判责结论、不采纳SOP判责结论、代叫运力(裹裹呼叫运力)、取消裹裹订单、申请菜鸟小二介入、咨询工单完结等17个相关动作。梳理了其相关代码和关键调用链路。梳理关键时序图，并完成C-Desk技术文档中SOP调研的相关部分。


## 2. 收获
本周的主要还是sop项目迁移的前期准备工作。主要是通过代码梳理了SOP播放流程和SOP播放动作的相关调用和代码结构。也从中学习了当前各个主要项目代码之间的关系和调用过程。同时也跟随琏城、慕庭等学习了项目开发从评审到技术方案设计的相关过程和细节。在梳理代码的过程中看到了前人的优秀代码。对自己的Java知识有了进一步的提升。

在代码梳理的过程中学习了IDE的相关操作和项目的一般结构。同时重新学习了plantuml脚本语言；学习了软件开发和UML相关知识

## 3. 问题与思考

1. 在梳理的代码中看到不少地方参数是直接写死。在迁移的时候需要使用工厂模式等设计模式来进行改进。
2. 代码调用其实很多地方感觉没有必要。往往复杂的数据结构的包装与拆包只是为了传递很如caseId这样的简单数据结构；是否可以优化或者改进。
3. 整个梳理的过程中其实并没有详细的将每一块的代码梳理清楚。只是明确了输入和输出参数没有查看具体的实现。 
4. 与他人的沟通能力与学习主动性还需要加强